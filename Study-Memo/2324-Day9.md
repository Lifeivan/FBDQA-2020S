# Class 8.配对交易/策略诊断

##### 蒋广宇 2017012324 

### 特邀专家 姚延栋 Greenplum

Volume、Velocity、Variety、Veracity

NoSQL、Not onlySQL、No，SQL、No No SQL

#### Greenplum：

Massive parellel processing、distributed database with standard SQL support、integrated analytics

### 股票协整性与配对交易

#### 平稳性：

一个时间序列，如果均值没有系统的变化（无趋势）、方差没有系统变化，且严格消除了周期性变化，就称之是平稳的。如果一种股票的价格序列是平稳的，那么它将可以作为均值回归策略的一个很好的选择。

$E(y_t)=E(y_{t-s})=\mu$ , $Var(\epsilon_t)=Var(\epsilon_{t-s})=\sigma_y^2$ , $cov(y_t,y_{t-s}=cov(y_{t-j},y_{t-j-s})=\gamma_s$ )

#### 股票对的协整性

经常可以找到一对股票，如果做多其中一只股票而做空另一只股票，这对股票投资组合的市场价值是稳定的。•这两个单独的时间序列就是协整的。它们的线性组合可以认为是平稳的。•通常，形成协整的两只股票来自同一个行业。在这对股票价格差价较低时买入组合，在差价较高时卖出/做空组合——这也可以看成一种经典的均值回归策略。

#### 协整检验：

EG两步法、JJ的多变量极大似然法

#### 策略持有时间

Ornstein-Uhlenbeck公式：$dz(t)=-\theta(z(t)-\mu)dt+dW$ ,$\mu$ 是时间序列的均值, dW是一个随机的高斯噪声。

z的平均值(t)意味着$\mu$ 指数衰减,这个指数衰变的半衰期等于$ln(2)/\theta$ ,此半衰期可用于确定均值回复位置的最佳保持时间。可以利用时间序列找到最好的$\theta$ 估计,半衰期更稳健的估计可以直接从交易模型得到。在本例子中，使用GLD和GDX之间的差值来估计均值回归的半衰期的方法。

#### 相关性 VS 协整性

相关性与协整性存在较大的区别。两个价格序列之间的相关性实际上是指它们在一段时间内回报的相关性。如果两只股票是正相关的，那么它们的价格很有可能在大多数日子里朝着同一个方向变动。

如果两只股票是协整的，并且在未来仍然如此，它们的价格序列的线性组合将是平稳的。然而，他们每天(或每周，或任何其他时间段)的回报可能是完全不相关的。

$\rho(t_1,t_2)=\frac{\gamma(t_1,t_2)}{\sqrt{\sigma_{t_1}^2}\sigma_{t_2}^2}$ 



### 策略挑战与挑战性课题

基于宏观经济环境数据：经济周期、经济指标、基础利率、CPI、PPI

基于行业与公司基本面：财报模块、分析师研报模块、大宗商品板块、产业链

基于市场交易数据：市场宏观数据、市场微观数据、流动性分析、机构结构

止盈和止损

未来函数

#### 实盘前的checklist：

回测多周期、回测多起点、样本外测试、足够多的交易笔数、检查几个关键指标:夏普、最大回撤、年化、信息率、索提诺比率、alpha、beta、涨跌天数、逐笔收益分布 检查交易记录:不能有任何未来函数，成交价格是否在合理范围，成本是否合理，核对基础数据，重点停复牌和复权 



#### 挑战性课题

拟合指数：为什么、用多少只股票组合、限制条件、动态调整

轮动策略：行业轮动、风格轮动、做空一个行业



