# week 4 

### part 1 大数据部分

Git&Python2

**聚宽平台**&Pandas

SQL语言的应用

数据操纵语言

SQL：遵循各种标准； 多线程；

SQL分为两大类：查表*【数据操作】*&创建更改表*【数据定义】*

集合代数：列表【允许数据重复】；集合【不允许数据重复】；multiset【允许重复】

tables：一种关系；多个元素的多重集合，必须用到multiset；

​				列代表关系的大小；一个元组是单个的项；

SQL原子类型：characters; numbers; others每一列必须有这些原子类型；

表格样式：表名  key属性-*唯一标识*   **PA to Pname和Manufacture[两个键]**

key constraints: 唯一标识的最小集合【不一定只有一个】；

SQL基本操作：SFW&一些操作符；

select  from  where

selection, projection

DETAILS：命令不区分大小写，变量区分

like; order by;

主键&外键；进行声明和关联

foreign key constraint; 外键必须有对应，用以查询；

### SQL实际应用

用Python启动SQL安装包；

SQL：null 表示空；where含操作符比较大小；*代表查询所有列；

%%sql 执行sql语句

ASC升序排列；DESC降序排列；第一个默认优先；

买卖标的；

何时进行买卖；

技术指标：均线趋势摆动能量；

量化一定要有系统概念；有完备系统才能稳定盈利；

### 量化策略实例

金叉死叉：均线上穿&下穿；

选择不同板块的股票—回测结果【历史数据+策略基准线】

### 策略代码讲解

1、单只股票—双均线策略：

滑点：保证交易成功的点

daily: 开盘前+盘中+收盘后；

**买卖**：pl_bug：金叉买；			五日均线&三十日均线；

​		长时均线和短时均线【rolling】的最大值；

​		涨停跌停limit

判断金叉死叉：传入均线序列；return 1【-1】：金【死】叉

上穿return1；

2、单只ETF：pl stock pool

3、多只股票: stock pool

设置时间段—交易资金—策略—回测

交易六要素；

**策略基础**=**股票池**引入：优质股票集合+**择时** **股票池**股票数量由策略决定

股票池实例：低估值；小市值低估值高质量；

​			设计思路：选股条件—再平衡—容量；

源代码：股票池构建时间：收盘之后；

​							计算当前时间是否需要更新；

交易：不希望用分钟做回测，所以也加一个计数器；  

优化模型，加风控+头寸管理etc；

## 分组讨论

尝试什么类型的策略：

如何分工：

策略开发计划：