# SQL

* union all, multiset: 保留重复项

*  嵌套查询 : IN
* and <-> intercept
* distinct
* grouped by 帮助消重,避免交叉积重复运算
* RA plan 选择与投射 (关系型代数)

# 量化

* 理论驱动模型
  * alpha: 主要看选股
    * 透过股指期货对冲掉beta
    * 若选股偏离指标股可能无法消除敞口
  * 典型alpha特点
    * 牛市初期胜过大盘: 股指期货的升水结构
      * 升水: 期货价格比现货高
    * 中期回撤: 
      * 因为许多机构为了建仓,投入股指期货,使升水但alpha要用期指做空
      * 期指10倍杠杆,所以回撤可能把保证金穿透 (alpha玩家要小心)
    * 熊市不涨
  * 商品套利
    * 不赌方向,赌价差
    * 用"相关性"来配对 
    * 跨品种套利,  
    * 多策略, 多周期,多品种
    * 策略建模 -> 回测 -> 修正错误 -> 自动化操作
  * 多因子
    * 市盈率倒数
  * 接力棒
    * 期货
    * 选n个品种
    * 日内最多第一名,做空最后一名
    * 强制平仓
  * HANS123
    * 外汇
    * 开盘30分内高点上轨 <-> 下轨
    * 过上轨做多反之做空
  * 随机入市
    * 扔硬币进场
    * 跟踪止损,3倍atr时止损
    * 控制最大回撤重要
      * 当亏损一半时
  * 头寸
    * 固定金额交易一个单位: 固定单位
    * 等价值: 固定金额 ( 常用benchmark)
    * 百分比风险: 现金 / 每股风险 (得到最高承受风险)
    * 百分比波动幅度模型: 每类型分配不同风险 ( 最好)





* 讨论
  * 统计套利: 相关性计算? 基本面..
  * 啥情况入场: 算出统计结果,用肉眼判断threshold
  * 初始投入: 100万
  * 在标的间分配头寸: 第四种
  * 亏5%平仓
  * 止盈线