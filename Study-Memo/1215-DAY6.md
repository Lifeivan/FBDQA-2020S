# 大数据部分

## 一、SQL语言III

### 1. SQL Sets operators

交集：INTERSECT

并集：UNION

排除：EXCEPT

重复：UNION ALL

### 2. When are two queries equivalent?



### 3. How does SQL work

# 量化部分 如何获取Alpha

## 一、理论驱动型模型框架

### 1. 金融工程分类

- 期货、债券
- 股票、ETF
- 期权策略

### 2. 股票型Alpha策略基本逻辑

1. 投资组合：做多

   选股，择时

   保险的方法：对冲掉市场的波动(主要通过选股构建投资组合)

2. 策略收益

3. 适合投资者：风险偏好高，中等资金规模

对冲方式：主要为股指期货

### 3. 一个典型的股票型Alpha策略

“升水” “贴水”的概念

**三个阶段的特点**

### 4. 商品套利（配对）交易策略原理

风险相对较小

不赌方向，根据商品市场品种间相关性

不能全部看商品相关性，如这次疫情极端情况，流动性挤兑，无法有效对冲。

![image-20200327150339751](C:\Users\段雨辰\AppData\Roaming\Typora\typora-user-images\image-20200327150339751.png)

商品（套利）配对交易举例

比拼交易系统执行能力

**多策略，多周期，多品种**

### 5. 投资交易模型基本研发流程--黑箱

![image-20200327151731521](C:\Users\段雨辰\AppData\Roaming\Typora\typora-user-images\image-20200327151731521.png)



### 策略层面的实操综合-总体策略规划



## 二、经典策略

巴菲特：多因子

海龟交易：择时

均值回复：（配对策略、短期、长期市场反转）

缺口方式：

### 动态配对(期货策略)

- 选N个品种（日内宽幅震荡的）

- 开盘之后，按涨跌幅排序

- 做多第一名，做空倒数第一名

- 收盘强制平仓

- 问题：细节处理？

### HANS123(外汇交易)

- 日内交易，趋势突破系统
- 开盘30min后入场
- 上轨、下轨
- 突破上轨做多，突破下轨做空
- 突破时已有持仓，先止损再反手
- 收盘无条件平仓

### 随机入市策略

ATR

## 三、进一步认识形态

### 仓位与风控

控制头寸规模

常用方式

1. 固定金额交易

   可能问题：价格不同造成很大差异

2. 等价值交易

   

3. 百分比风险模型

   CPR公式

   头寸规模=现今/每股风险

4. 百分比波动幅度模型

   根据每次交易云粗承担的最大风险占总资金的比例，以及价格波动幅度

## 四、讨论

![image-20200327155106910](C:\Users\段雨辰\AppData\Roaming\Typora\typora-user-images\image-20200327155106910.png)

A股市场，交易策略为商品配对，（三对）

初始投入：100万，第四个，亏5%平仓，止盈



